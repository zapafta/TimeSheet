@model EventoModelView

@{
    ViewData["Title"] = "Index";
}


<h4>📆 <strong>Eventos</strong></h4>
<div class="row" style="margin:15px">
    <div class="col-xs-12 col-sm-12 col-lg-12 col-md-12">

        <ejs-schedule id="schedule" width="100%" height="700px"
                      locale="en-150"
                      startHour="8:00"
                      endHour="20:00"
                      popupOpen="onPopupOpen"
                      selectedDate="new DateTime(2018, 4, 1)">

        </ejs-schedule>


    </div>
</div>
@await Html.PartialAsync("DialogInternal", Model)

<script>


    loadCultureFiles('en-150');
    function loadCultureFiles(name) {
        var files = ['ca-gregorian.json', 'numberingSystems.json', 'numbers.json', 'timeZoneNames.json', 'ca-islamic.json'];
        var loader = ej.base.loadCldr;
        var loadCulture = function (prop) {
            var val, ajax;
            if (files[prop] === 'numberingSystems.json') {
                ajax = new ej.base.Ajax(location.origin + '/../scripts/cldr-data/supplemental/' + files[prop], 'GET', false);
            } else {
                ajax = new ej.base.Ajax(location.origin + '/../scripts/cldr-data/main/' + name + '/' + files[prop], 'GET', false);
            }
            ajax.onSuccess = function (value) {
                val = value;
            };
            ajax.send();
            loader(JSON.parse(val));
        };
        for (var prop = 0; prop < files.length; prop++) {
            loadCulture(prop);
        }
    }


    function onPopupOpen(args) {




        if (args.type === 'Editor') {

            var DialogInternal = document.getElementById('DialogInternal').ej2_instances[0];
            DialogInternal.header = '📆 Adicionar Evento';
            DialogInternal.show();




            args.cancel = true;
        }
    }

</script>
